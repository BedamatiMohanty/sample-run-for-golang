\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{comment}
\usepackage{occi}
\setlength{\headheight}{13pt}
\pagestyle{fancy}

% default sans-serif
\renewcommand{\familydefault}{\sfdefault}

% no lines for headers and footers
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% header
\fancyhf{}
\lhead{GWD-R}
\rhead{\today}

% footer
\lfoot{occi-wg@ogf.org}
\rfoot{\thepage}

% paragraphs need some space...
\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}

% some space between header and text...
\headsep 13pt

\setcounter{secnumdepth}{4}

\begin{document}

% header on first page is different
\thispagestyle{empty}

GWD-R \hfill Ralf Nyr√©n \\
OCCI-WG \hfill Florian Feldhaus, GWDG\\
\rightline {February 25, 2011}\\
\rightline {Updated: \today}

\vspace*{0.5in}

\begin{Large}
\textbf{Open Cloud Computing Interface - JSON Rendering}
\end{Large}

\vspace*{0.5in}

\underline{Status of this Document}

This document provides information to the community regarding the
specification of the Open Cloud Computing Interface. Distribution is
unlimited.

\underline{Copyright Notice}

Copyright \copyright Open Grid Forum (2011). All Rights Reserved.

\underline{Trademarks}

OCCI is a trademark of the Open Grid Forum.

\underline{Abstract}

This document, part of a document series, produced by the OCCI working
group within the Open Grid Forum (OGF), provides a high-level
definition of a Protocol and API. The document is based upon
previously gathered requirements and focuses on the scope of important
capabilities required to support modern service offerings.

\underline{Comments}
\newcommand{\ralf}[1]{\textcolor{red}{RN: #1}}

\newpage
\tableofcontents
\newpage

\section{Introduction}
%\input{include/introduction}

\section{Notational Conventions}
\input{include/notational}

%The following terms \cite{rfc3986} are used when referring to URI
%components:
%
%\begin{verbatim}
% http://example.com:8080/over/there?action=stop#xyz
% \__/   \______________/\_________/ \_________/ \_/
%  |           |            |            |        |
%scheme     authority       path        query   fragment
%\end{verbatim}

\section{OCCI JSON Rendering}
{\em TBD: intro, JSON Rendering is RESTful, can happily co-exist with the
existing HTTP Rendering, etc}

\section{Namespace}

The JSON Rendering provides a represenation of the OCCI Core model into the URL hierarchy by binding
\hl{Kind} and \hl{Mixin} instances to unique URL paths. Such an URL path is called
the {\em location} of the \hl{Kind} or \hl{Mixin}.
A provider is free to choose the {\em location} as long as it is unique
within the service provider's URL namespace.
For example, the \hl{Kind} instance%
\footnote{\tt http://schemas.ogf.org/occi/infrastructure\#compute}
for the \hl{Compute} type may be bound to {\tt /my/occi/api/compute/}.

A \hl{Kind} instance whose associated type cannot be instantiated MUST NOT be
bound to an URL path. This applies to the \hl{Kind} instance for OCCI Entity.

\subsection{Bound and unbound paths}

Since a limited set of URL paths are bound to \hl{Kind} and \hl{Mixin}
instances the URL hierarchy consists of both {\em bound} and {\em unbound}
paths.
A bound URL path is the {\em location} of a \hl{Kind} or \hl{Mixin} collection.

An unbound URL path MAY represent the union of all \hl{Kind} and \hl{Mixin}
collection ``below'' the unbound path.
\ralf{FIXME: Should this be a MUST instead?}

% TODO move to OCCI Core

%\subsection{Unique identifiers}
%
%In the OCCI JSON Rendering the {\tt occi.core.id} attribute MUST be a UUID
%\cite{rfc4122} in canonical form, for example {\tt 30782156-c5e1-43c2-99fd-7cf46bc2daa7}.
%
%A resource instance MUST exist in the collection of its associated \hl{Kind}
%and \hl{Mixin}s. Concatenation of a resource instance's \hl{Kind} or \hl{Mixin}
%location together with its {\tt occi.core.id} MUST yield a valid URL from which
%the resource instance can be retrieved.
%
%\paragraph*{Example 1}
%A resource instance of the \hl{Network} type has been assigned a unique identifier
%so that {\tt occi.core.id} is {\tt 30782156-c5e1-43c2-99fd-7cf46bc2daa7}. The \hl{Kind} of
%the \hl{Network} type is bound to location {\tt /network/}.
%
%A request to {\tt /network/30782156-c5e1-43c2-99fd-7cf46bc2daa7} MUST then yield a
%representation of the \hl{Network} instance.
%
%\paragraph*{Example 2}
%The same resource instance as in example 1 is also associated with the
%\hl{IPNetwork} \hl{Mixin} which is bound to location {\tt /ipnetwork/}.
%
%A request to {\tt /ipnetwork/30782156-c5e1-43c2-99fd-7cf46bc2daa7} MUST yield a
%representation of the same \hl{Network} instance as in example 1.

\section{JSON format}
\label{sec:json_format}
The OCCI JSON Rendering constists of a JSON object holding information on the OCCI core objects kind, mixin, action, link and resource.

The following media-type has been assigned to the OCCI JSON Rendering:

{\tt application/occi+json}


%All four formats use a top-level JSON object with a different set of object
%members. The details of these structures are described in the subsections
%below.
%\begin{description}
%\item[\tt application/occi-entity+json]
%A single OCCI Resource or OCCI Link instance.
%See section~\ref{sec:format_entity}.
%
%\item[\tt application/occi-collection+json]
%A collection of OCCI Resource and OCCI Link instances.
%See section~\ref{sec:format_collection}.
%
%\item[\tt application/occi-action+json]
%Invocation of an OCCI Action.
%See section~\ref{sec:format_action}.
%
%\item[\tt application/occi-discovery+json]
%Format used by the OCCI discovery mechanism which comprise the OCCI type system
%\cite{occi:core}.
%See section~\ref{sec:format_discovery}.
%\end{description}

%An OCCI client MUST specify the media-type whenever request payload is
%submitted. Likewise an OCCI server MUST specify the media-type of the response
%payload. The media-type MUST be specified in the HTTP Content-Type header as specified
%in RFC2616 \cite{rfc2616}.

\subsection{Resource instance format}
\label{sec:format_resource}

A {\em resource instance} is a sub-type of OCCI Entity which has been instantiated.
OCCI Resource and OCCI Link are the top-most sub-types of OCCI Entity.
OCCI Entity itself cannot be instantiated.

The resource instance format consists of a JSON object as shown in the
following example.
Table~\ref{tbl:format_entity} defines the object members.
\begin{verbatim}
{
    "resources": [
        {
            "kind": "http: //schemas.ogf.org/occi/infrastructure#compute",
            "mixins": [
                "http: //schemas.opennebula.org/occi/infrastructure#my_mixin",
                "http: //schemas.other.org/occi#my_mixin"
            ],
            "attributes": {
                "occi": {
                    "core": {
                        "id": 456,
                        "summary": "This is a summary"
                    },
                    "compute": {
                        "speed": 2,
                        "memory": 4,
                        "cores": 2
                    }
                },
                "org": {
                    "other": {
                        "occi": {
                            "my_mixin": {
                                "my_attribute": "my_value"
                            }
                        }
                    }
                }
            },
            "actions": [
                {
                    "title": "Start My Server",
                    "href": "/compute/456?action=start",
                    "category": "http: //schemas.ogf.org/occi/infrastructure/compute/action#start"
                }
            ],
            "links": [
                {
                		"title": "My disk",
                    	"target": "http://myservice.tld/storage/456",
                    	"rel": [ "http://schemas.ogf.org/occi/infrastructure#storage" ],
                		"kind": "http://schemas.ogf.org/occi/infrastructure#storagelink"
                		"attributes": { "occi.storagelink.deviceid": "ide:0:1" }
                }
            ]
        }
    ]
}
\end{verbatim}
\mytablefloat{
    \label{tbl:format_resource}
    Resource instances are rendered using the
    {\tt application/occi+json} format which consists of a JSON object with name {\em resources}
    containing an array of JSON objects with the following entries.
    } {
    \begin{tabular}{llp{5.0cm}p{3.0cm}}
    \toprule
    Object member & JSON type & Description & Manadatory \\
    \colrule
    kind & string & Kind identifier & mandatory \\

    mixin & array of URIs & List of Mixin identifiers &
    mandatory if resource has mixins \\

    actions & array of objects & Actions applicable to the resource instance &
    mandatory if resource has applicable actions \\

    links & array of URIs & Associated OCCI Links &
    mandatory if resource has links\\

    attributes & object & Instance attributes & mandatory if resource has attributes \\
    \botrule
    \end{tabular}
}

\subsection{Single link instance format}
\label{sec:format_link}

%\subsection{Collection format}
%\label{sec:format_collection}
%
%A collection of resource instances is rendered in the
%{\tt application/occi-collection+json} format.
%A collection may consist of resource instances of different types.
%
%Every \hl{Kind} and \hl{Mixin} instance represent a collection of its
%associated resource instances. For example the \hl{Kind} instance for
%the \hl{Compute} type,
%{\tt http://schemas.ogf.org/occi/infrastructure\#compute}, automatically
%represent a collection of all \hl{Compute} instances \cite{occi:core}.
%The collection format MAY be used to render a union of several collections
%as one big combined collection.
%
%The collection format consists of a JSON object as shown in the example below.
%Table~\ref{tbl:format_collection} define the object members.
%\begin{verbatim}
%{
%  collection: [ ... ],
%  size: 1004,
%  limit: 50,
%  next: "http://example.com/compute/?marker=25c46a34-3caa-4713-806b-6abb9593ba2d&limit=50"
%}
%\end{verbatim}
%\mytablefloat{
%    \label{tbl:format_collection}
%    A collection of resource instances is rendered in the
%    {\tt application/occi-collection+json} format.
%    The format consists of a JSON object with the following members.
%    } {
%    \begin{tabular}{lllp{3.0cm}}
%    \toprule
%    Object member & JSON type & Description & Applicable to \\
%    \colrule
%    collection & array of objects & List of resource instances & Request/response \\
%
%    size & integer & Total size of the collection & Response {\em only} \\
%
%    limit & integer & Effective page size limit  & Response {\em only} \\
%
%    next & string & URL of the next page  & Response {\em only} \\
%    \botrule
%    \end{tabular}
%}
%The {\tt collection} array consists of JSON objects in {\em single resource
%instance format} described in section~\ref{sec:format_entity}.
%
%The collection format has built-in support for pagination. Pagination allows a
%subset of a collection to be transferred to reduce server load and client
%processing.
%An OCCI server MUST specify the {\tt next} member whenever a paginated collection
%is returned. See section~\ref{sec:collection:pagination}.
%%
%\subsection{Action invocation format}
%\label{sec:format_action}
%
%An action invocation is rendered in the {\tt application/occi-action+json}
%format. An action is an invokable operation on a resource instance and is
%identified by a OCCI Category instance.
%
%The action invocation format consists of a JSON object as shown in the example
%below. Table~\ref{tbl:format_action} define the object members.
%Action invocations are only relevant to client requests.
%\begin{verbatim}
%{
%  "category": "http://schemas.ogf.org/occi/infrastructure/compute/action#stop",
%  "attributes": {
%    "method": "graceful"
%  }
%}
%\end{verbatim}
%\mytablefloat{
%    \label{tbl:format_action}
%    An action represent an invocable operation on a resource instance.
%    The {\tt application/occi-action+json} format is used to render an action
%    invocation. The format consists of a JSON object with the following
%    members.
%    } {
%    \begin{tabular}{lll}
%    \toprule
%    Object member & JSON type & Description \\
%    \colrule
%    category & string & Category identifier \\
%    attributes & object & Action attributes \\
%    \botrule
%    \end{tabular}
%}

\subsection{Discovery interface format}
\label{sec:format_discovery}

The OCCI discovery mechanism enables an OCCI client to discovery the types
available for resource instantiation \cite{occi:core}.
%
The OCCI JSON Rendering provides an interface to this mechanism called the {\em
discovery interface}%
\footnote{Referred to as the ``Query interface'' in the OCCI HTTP Rendering
\cite{occi:http_rendering}.}.
%
An OCCI client MAY add or remove custom \hl{Mixin}s through the discovery
interface.

The discovery interface is rendered in the {\tt application/occi-discovery+json}
format. The same format is used for both request and response.
%
The format consists of a JSON object as shown in the
example below. Table~\ref{tbl:format_discovery} define the top-level object
members.
%
The object members describing a \hl{Kind} or a \hl{Mixin} are defined in
table~\ref{tbl:format_discovery:kind_mixin} while the object members describing
a \hl{Category}%
\footnote{A \hl{Category} instance is the identifier of an OCCI Action
\cite{occi:core}.}
are defined in table~\ref{tbl:format_discovery:category}.
%
The object members describing attribute properties are defined in
table~\ref{tbl:format_discovery:attribute}.
\mytablefloat{
    \label{tbl:format_discovery}
    The {\tt application/occi-discovery+json} format is used to render the
    discovery mechanism. The format consists of a JSON object with the
    following members.
    } {
    \begin{tabular}{llll}
    \toprule
    Object member & JSON type & Description & Applicable to \\
    \colrule
    kinds & array of objects
    & List of \hl{Kind} instances, see table~\ref{tbl:format_discovery:kind_mixin}.
    & Response {\em only} \\
    mixins & array of objects
    & List of \hl{Mixin} instances, see table~\ref{tbl:format_discovery:kind_mixin}.
    & Request/response \\
    categories & array of objects
    & List of \hl{Action} instances, see table~\ref{tbl:format_discovery:action}.
    & Response {\em only} \\
    \botrule
    \end{tabular}
}
\mytablefloat{
    \label{tbl:format_discovery:kind_mixin}
    Table~\ref{tbl:format_discovery} describe that \hl{Kind} and \hl{Mixin}
    instances are rendered as two separate arrays of JSON objects. Each such
    object has the following members.
    } {
    \begin{tabular}{llll}
    \toprule
    Object member & JSON type & Description & Applicable to \\
    \colrule
    term & string & Unique identifier within the categorisation scheme
    & Request/response \\
    scheme & string & Categorisation scheme & Request/response \\
    title & string & Display name & Request/response \\
    related & string & Identifier of related ``parent'' \hl{Kind} or \hl{Mixin} instance
    & Request/response \\
    attributes & object of name-object pairs & Attribute properties, see table~\ref{tbl:format_discovery:attribute}
    & Request/response \\
    actions & array of strings & List of action identifiers
    & Response {\em only} \\
    location & string & URL bound to the \hl{Kind} or \hl{Mixin} instance
    & Request/response \\
    \botrule
    \end{tabular}
}
\mytablefloat{
    \label{tbl:format_discovery:category}
    A \hl{Action} instance identifies the category of an action and is only relevant to
    responses from the discovery interface.
    Table~\ref{tbl:format_discovery} describe that \hl{Action} instances are
    rendered as an array of JSON objects. Each such object has the following
    members.
    } {
    \begin{tabular}{llll}
    \toprule
    Object member & JSON type & Description \\
    \colrule
    term & string & Unique identifier within the categorisation scheme \\
    scheme & string & Categorisation scheme \\
    title & string & Display name \\
    attributes & object & Attribute properties, see table~\ref{tbl:format_discovery:attribute} \\
    \botrule
    \end{tabular}
}
\mytablefloat{
    \label{tbl:format_discovery:attribute}
    Table~\ref{tbl:format_discovery:kind_mixin} and \ref{tbl:format_discovery:category}
    define the attribute properties of a \hl{Kind}, \hl{Mixin} or \hl{Category} to be
    rendered as a JSON object consisting of attribute-name and properties-object pairs.
    The attribute-properties object has the members defined in this table.
    %
    All attribute properties are optional and the table shows which property default value
    an OCCI client MUST assume if a particular property is unspecified.
    %
    Only the {\tt default} property is valid in client requests to the
    discovery interface.
    \ralf{Should we have both float and integer?}
    } {
    \begin{tabular}{llll}
    \toprule
    Object member & JSON type & Description & Default \\
    \colrule
    mutable & boolean & Attribute mutability & true \\
    required & boolean & Whether the attribute MUST be specified at resource instantiation & false \\
    type & string & Enum \{string, integer, float, boolean\}
    & string \\
    range & 2 elements array & Lower and upper bound of an integer/float attribute & - \\
    default & string, number or boolean & Attribute default when not specified by client. Implies required = false
    & - \\
    \botrule
    \end{tabular}
}
\begin{verbatim}
{
    "kinds": [
        {
            "term": "compute",
            "scheme": "http://schemas.ogf.org/occi/infrastructure#",
            "title": "Compute Resource",
            "related": [
                "http://schemas.ogf.org/occi/core#resource"
            ],
            "attributes": {
                "occi": {
                    "compute": {
                        "hostname": {
                            "mutable": true,
                            "required": false,
                            "type": "string",
                            "pattern": "(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*"
                        },
                        "state": {
                            "mutable": false,
                            "required": false,
                            "type": "string",
                            "pattern": "inactive|active|suspended|failed",
                            "default": "inactive"
                        },
                        ...
                    }
                }
            },
            "actions": [
                "http://schemas.ogf.org/occi/infrastructure/compute/action#start",
                "http://schemas.ogf.org/occi/infrastructure/compute/action#stop",
                "http://schemas.ogf.org/occi/infrastructure/compute/action#restart",
                "http://schemas.ogf.org/occi/infrastructure/compute/action#suspend"
            ],
            "location": "/compute/"
        },
        ...
    ],
    "mixins": [
        {
            "term": "medium",
            "scheme": "http://example.com/templates/resource#",
            "title": "Medium VM",
            "related": [
                "http://schemas.ogf.org/occi/infrastructure#resource_tpl",
                "http://schemas.ogf.org/occi/infrastructure#compute"
            ],
            "attributes": {
                "occi": {
                    "compute": {
                        "speed": {
                            "type": "number",
                            "default": 2.8
                        }
                    }
                }
            }
        },
        ...
    ]
    {
    "actions": [
        {
            "term": "stop",
            "scheme": "http://schemas.ogf.org/occi/infrastructure/compute/action#",
            "title": "Stop Compute instance",
            "attributes": {
                "method": {
                    "mutable": true,
                    "required": false,
                    "type": "string",
                    "pattern": "graceful|acpioff|poweroff",
                    "default": "poweroff"
                }
            }
        },
		...
	]
}
\end{verbatim}


%\section{HTTP methods applied to resource instance URLs}
%
%This section describes the HTTP methods used to retrieve and manipulate
%individual resource instances. Each HTTP method described is assumed to operate
%on an URL referring to a single element in a collection, an URL such as the
%following:
%\begin{verbatim}
%  http://example.com/compute/012d2b48-c334-47f2-9368-557e75249042
%\end{verbatim}
%
%An OCCI server MUST use the request processing defined by this document
%whenever the Content-Type of a request use one of the media-types defined in
%section~\ref{sec:json_format}.
%%
%In order to receive a response defined by the OCCI JSON Rendering a client MUST
%include one or several of the JSON media-types%
%\footnote{See section~\ref{sec:json_format}.}
%in the Accept header.
%
%At the beginning of every ``Client request'' and ``Server response''
%sub-section below the required Accept and Content-Type headers are defined. A
%client MAY supply all four JSON media-types in the Accept header in which case
%the server MUST choose the most suitable format.
%
%\subsection{GET resource instance}
%The HTTP GET method retrieves the JSON representation of an OCCI resource
%instance.
%
%\subsubsection{Client GET request}
%\begin{description}
%\item[Accept] {\tt application/occi-entity+json}
%\end{description}
%The body of the HTTP GET request MUST be empty.
%\begin{verbatim}
%GET /compute/012d2b48-c334-47f2-9368-557e75249042 HTTP/1.1
%Host: example.com
%Accept: application/occi-entity+json
%User-Agent: occi-client/x.x OCCI/1.1
%\end{verbatim}
%
%\subsubsection{Server GET response}
%\begin{description}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%The body of the HTTP GET response MUST contain a rendering of the resource
%instance in the single-resource-instance format, see
%section~\ref{sec:format_entity}.
%\begin{verbatim}
%HTTP/1.1 200 OK
%Server: occi-server/x.x OCCI/1.1
%Content-Type: application/occi-entity+json; charset=utf-8
%
%{
%  "kind": "http://schemas.ogf.org/occi/infrastructure#compute",
%  "mixins": [ ... ],
%  "actions": [ ... ],
%  "links": [ ... ],
%  "attributes": { ... }
%}
%\end{verbatim}
%
%\subsection{PUT resource instance}
%The HTTP PUT method creates or replaces the resource instance at the specified
%URL. Since the UUID of the resource instance is supplied in the request URL an OCCI
%server MAY refuse to create a new instance.
%If specified the {\tt occi.core.id} attribute MUST be identical to the UUID in
%the request URL.
%
%\subsubsection{Client PUT request}
%\begin{description}
%\item[Accept] {\tt application/occi-entity+json}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%The full representation of the resource instance MUST be supplied in the HTTP
%body of the request. The request body MUST use the single-resource-instance
%format defined in section~\ref{sec:format_entity}.
%
%The object member {\tt links} MUST NOT be supplied by a client. Removing a set
%of OCCI Links breaks the idempotence of a PUT request. Any Links present for an
%existing OCCI Resource MUST be left intact. A server MUST refuse a request
%containing the {\tt links} member.
%
%\begin{verbatim}
%PUT /compute/012d2b48-c334-47f2-9368-557e75249042 HTTP/1.1
%Host: example.com
%Accept: application/occi-entity+json
%User-Agent: occi-client/x.x OCCI/1.1
%Content-Type: application/occi-entity+json; charset=utf-8
%
%{
%  "kind": "http://schemas.ogf.org/occi/infrastructure#compute",
%  "mixins": [ ... ],
%  "attributes": { ... }
%}
%\end{verbatim}
%
%\subsubsection{Server PUT response}
%\begin{description}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%Upon success an OCCI server MUST return HTTP status code 200 and a complete
%JSON representation of the created/replaced resource instance in
%single-resource-instance format.
%The response MUST be identical%
%\footnote{Provided the resource instance was not changed in the meantime.}
%to that of a subsequent GET request of the same URL.
%
%\begin{verbatim}
%HTTP/1.1 200 OK
%Server: occi-server/x.x OCCI/1.1
%Content-Type: application/occi-entity+json; charset=utf-8
%
%{
%  "kind": "http://schemas.ogf.org/occi/infrastructure#compute",
%  "mixins": [ ... ],
%  "actions": [ ... ],
%  "links": [ ... ],
%  "attributes": { ... }
%}
%\end{verbatim}
%
%
%\subsection{POST resource instance (action)}
%There are two methods to invoke an OCCI Action using the JSON Rendering.
%\begin{enumerate}
%\item Supply the query parameter ``action'' together with the request. The value
%of ``action'' MUST be the {\tt term} of the action \hl{Category}.
%\item Specify {\tt application/occi-action+json} in the Content-Type header
%and supply a request payload formatted according to section~\ref{sec:format_action}.
%In order to specify action attributes this method MUST be used.
%\end{enumerate}
%An OCCI Client MAY combine the two methods if the ``action'' parameter's value
%is equal to the \hl{Category} {\tt term} in the body.
%
%\subsubsection{Client POST action request}
%\begin{description}
%\item[Accept] {\tt application/occi-entity+json}
%\item[Content-Type] {\tt application/occi-action+json}
%\end{description}
%The example shows the combined method.
%\begin{verbatim}
%POST /compute/012d2b48-c334-47f2-9368-557e75249042?action=stop HTTP/1.1
%Host: example.com
%Accept: application/occi-entity+json
%User-Agent: occi-client/x.x OCCI/1.1
%Content-Type: application/occi-action+json; charset=utf-8
%
%{
%  "category": "http://schemas.ogf.org/occi/infrastructure/compute/action#stop",
%  "attributes": {
%    "method": "graceful"
%  }
%}
%\end{verbatim}
%
%\subsubsection{Server POST action response}
%\begin{description}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%If the request Accept header contains {\tt application/occi-entity+json} the
%server MAY return status code 200 and a full representation of the resource instance.
%Otherwise the server MUST return status code 204 and no response payload.
%\begin{verbatim}
%HTTP/1.1 204 OK
%Server: occi-server/x.x OCCI/1.1
%\end{verbatim}
%
%\subsection{POST resource instance}
%\begin{description}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%\ralf{This would imply a partial update of the resource instance. While it is
%easy to supply only the attributes to be updated the question is if there are any
%valid use cases for partial updates using JSON?}
%
%\subsection{DELETE resource instance}
%The HTTP DELETE method destroys a resource instance and any OCCI Links
%associated with an OCCI Resource.
%
%\subsubsection{Client DELETE request}
%\begin{description}
%\item[Content-Type] {\tt application/occi-entity+json}
%\end{description}
%\begin{verbatim}
%DELETE /compute/012d2b48-c334-47f2-9368-557e75249042 HTTP/1.1
%Host: example.com
%Accept: application/occi-entity+json
%\end{verbatim}
%
%\subsubsection{Server DELETE response}
%\begin{verbatim}
%HTTP/1.1 204 OK
%Server: occi-server/x.x OCCI/1.1
%\end{verbatim}
%
%
%\section{HTTP methods applied to collections URLs}
%
%\ralf{NOT fully updated yet!}
%
%This section describes the HTTP methods used to manipulate collections. Each
%HTTP method described is assumed to operate on an URL referring to a collection
%of elements, an URL such as the following:
%\begin{verbatim}
%  http://example.com/storage/
%\end{verbatim}
%
%A collection consist of a set of resource instances and there are three
%different types of collections which may be exposed by an OCCI server.  The
%request and response format is identical for all three types collections
%although the semantics differ slightly for the PUT and POST methods.
%\begin{description}
%\item[Kind locations] The location associated with an OCCI Kind instance
%represents the collection of all resource instances of that particular Kind.
%\item[Mixin locations] The location of an OCCI Mixin instance represents the
%collection of all resource instances associated with that Mixin.
%\item[Arbitrary path] Any path in the URL namespace which is neither a Kind nor
%a Mixin location. A typical example is the root URL e.g.~{\tt
%http://example.com/}. Such a path combines all collections in the sub-tree
%starting at the path. Therefore the root URL is a collection of all resource
%instances available.
%\end{description}
%
%\subsection{GET collection}
%The HTTP GET method retrieves a list of all resource instances in the
%collection. Filtering and pagination information is encoded in the query string
%of the URL.
%
%\subsubsection{Client GET request}
%The query string of the request URL MUST have the following format:
%\begin{verbatim}
%query-string        = ""
%                    | "?" query-parameter *( "&" query-parameter )
%  query-parameter   = attribute-filter
%                    | category-filter
%                    | pagination-marker
%                    | pagination-limit
%  attribute-filter  = "q=" attribute-search *( "+" attribute-search )
%  attribute-search  = 1*( string-urlencoded |
%                          attribute-name "%3D" string-urlencoded )
%  category-filter   = "category=" string-urlencoded
%  pagination-marker = "marker=" UUID
%  pagination-limit  = "limit=" 1*( DIGIT )
%  attribute-name    = attr-component *( "." attr-component )
%  attr-component    = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
%  string-urlencoded = *( ALPHA | DIGIT | "-" | "_" | "." | "~" | "%" )
%
%\end{verbatim}
%\ralf{FIXME: UUID in ABNF}
%
%\paragraph*{Filtering} A search filter can be applied to categories and attributes
%of resource instances in a collection. An OCCI server SHOULD support filtering.
%The query parameters MUST be URL encoded.
%
%Attribute filters are specified using the {\em q} query parameter.  A filter such
%as {\tt q=ubuntu+inactive} would match all resource instances whose combined
%set of attribute values includes both the word ``ubuntu'' and ``inactive''. It
%is also possible to match on specific attributes by preceding the search term
%with the attribute name and an equal sign, for example {\tt
%occi.core.title\%3Dubuntu+occi.compute.state\%3Dinactive}.
%
%The category filter is specified using the {\em category} query parameter and
%represent a single Kind, Mixin or Action category to be matched. The following
%query would include only resource instances of the Compute type:
%{\tt category=http\%3A\%2F\%2Fschemas.ogf.org\%2Focci\%2Finfrastructure\%23compute}
%
%\paragraph*{Pagination}
%\ralf{FIXME: marker instead of start}
%\label{sec:collection:pagination}
%An OCCI client MAY request that the server only return
%a subset of a collection. This is accomplished using the {\em marker} and
%{\em limit} query parameters.  An OCCI server MUST support pagination.
%
%The {\em marker} parameter specifies the offset into the collection. A value of
%zero, {\tt marker=0} indicates the beginning of the collection.
%%
%The {\em limit} parameter sets the maximum number of elements to include in the
%response. For example {\tt ?marker=...\&limit=10} would indicate the third page
%with a limit of 10 elements per page.
%
%\paragraph*{Example request}
%
%\begin{verbatim}
%GET /storage/?q=ubuntu+server&limit=20 HTTP/1.1
%Host: example.com
%Accept: application/occi-collection+json
%User-Agent: occi-client/x.x OCCI/1.1
%\end{verbatim}
%
%\subsubsection{Server GET response}
%\begin{verbatim}
%HTTP/1.1 200 OK
%Server: occi-server/x.x OCCI/1.1
%Content-Type: application/occi-collection+json; charset=utf-8
%
%{
%  "collection": [
%    {
%      "kind": "..." ,
%      "mixins": [ ... ],
%      "actions": [ ... ],
%      "links": [ ... ],
%      "attributes": { ... },
%    },
%    { ... },
%    { ... }
%  ],
%  "limit": 20,
%  "size": 137,
%  "next": "http://example.com/storage/?q=ubuntu+server&marker=59b50...9b3&limit=20"
%}
%\end{verbatim}
%
%
%\subsection{POST collection}
%The HTTP POST method is used to create/update one or more resource instances in
%a single atomic request. An OCCI server MUST identify existing resource instances
%using the {\tt occi.core.id} attribute.
%
%\subsubsection{Client POST request}
%\begin{verbatim}
%POST /storage/ HTTP/1.1
%Host: example.com
%Accept: application/occi-collection+json
%User-Agent: occi-client/x.x OCCI/1.1
%Content-Type: application/occi-collection+json; charset=utf-8
%
%{
%  "collection": [
%    {
%      "kind": "...",
%      "mixins": [ ... ],
%      "links": [ ... ],
%      "attributes": { ... },
%    },
%    { ... },
%    { ... }
%  ]
%}
%\end{verbatim}
%
%\subsubsection{Server POST response}
%\begin{verbatim}
%HTTP/1.1 204 OK
%Server: occi-server/x.x OCCI/1.1
%\end{verbatim}
%\ralf{Should we support HTTP 200 returning the whole collection? Or maybe just the resource instances created/updated?}
%
%\subsection{POST collection with ``action'' query parameter}
%{\em todo}
%
%\subsection{PUT collection}
%Replace the entire collection with a new one. \ralf{Should we support this?}
%
%\subsection{DELETE collection}
%Delete the entire collection. \ralf{Should we support this?}
%
%\begin{comment}
%\section{More examples}
%The OCCI demo instance of occi-py%
%\footnote{\tt http://github.com/nyren/occi-py}
%running at {\tt http://www.nyren.net/api/} has an early version of the draft
%JSON rendering available.  Feel free to play around with it. However, please
%note the following limitations:
%\begin{itemize}
%\item The Content-Type is {\tt application/json} and not {\tt application/occi+json}
%which would be more appropriate.
%\item It does not support request data in JSON.
%\item Filtering and pagination is not yet supported.
%\end{itemize}
%
%A few example queries using curl:
%\begin{verbatim}
%curl -i -H 'accept: application/json' http://www.nyren.net/api/-/
%curl -i -H 'accept: application/json' http://www.nyren.net/api/link/
%curl -i -X POST -H 'accept: application/json' http://www.nyren.net/api/compute/
%\end{verbatim}
%\end{comment}

\section{Glossary}
\label{sec:glossary}
\input{include/glossary}

%\section{Contributors}
%\include{include/contributors}
% FIXME: Insert an up-to-date table here!

\section{Intellectual Property Statement}
\input{include/ip}

\section{Disclaimer}
\input{include/disclaimer}

\section{Full Copyright Notice}
\input{include/copyright}

\bibliographystyle{IEEEtran}
\bibliography{references}

\end{document}
