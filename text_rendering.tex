\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{comment}
\usepackage{occi}
\usepackage{lineno}   % adds line numbers, may be removed for non draft versions
\linenumbers          % adds line numbers, may be removed for non draft versions
\usepackage{verbatim} % adds verbatim options
\usepackage{tabularx} % adds extended tabular formatting options
\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{json}{
  ndkeywords={String, Number, Boolean, Null, Object, Array},
  ndkeywordstyle=\itshape
}
\lstset{
   language=json,
   basicstyle=\footnotesize,
}

\setlength{\headheight}{13pt}
\pagestyle{fancy}

% default sans-serif
\renewcommand{\familydefault}{\sfdefault}

% no lines for headers and footers
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% header
\fancyhf{}
\lhead{GWD-R}
\rhead{\today}

% footer
\lfoot{occi-wg@ogf.org}
\rfoot{\thepage}

% paragraphs need some space...
\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}

% some space between header and text...
\headsep 13pt

\setcounter{secnumdepth}{4}

\begin{document}

% header on first page is different
\thispagestyle{empty}

Draft \hfill Andy Edmons, Zhaw \\
OCCI-WG \hfill Thijs Metsch, Intel\\
\rightline {\today}

\vspace*{0.5in}

\begin{Large}
\textbf{Open Cloud Computing Interface - Text Rendering}
\end{Large}

\vspace*{0.5in}

\underline{Status of this Document}

This document provides information to the community regarding the
specification of the Open Cloud Computing Interface. Distribution is
unlimited.

\underline{Copyright Notice}

Copyright \copyright Open Grid Forum (2015). All Rights Reserved.

\underline{Trademarks}

OCCI is a trademark of the Open Grid Forum.

\underline{Abstract}

This document, part of a document series, produced by the OCCI working
group within the Open Grid Forum (OGF), provides a high-level
definition of a Protocol and API. The document is based upon
previously gathered requirements and focuses on the scope of important
capabilities required to support modern service offerings.

\newpage
\tableofcontents
\newpage

\section{Introduction}
\input{include/introduction}

\section{Notational Conventions}
\input{include/notational}

\section{Security and Authentication}
OCCI does not require that an authentication mechanism be used nor
does it require that client to service communications are secured. It
does RECOMMEND that an authentication mechanism be used and that where
appropriate, communications are encrypted using HTTP over TLS. The
authentication mechanisms that MAY be used with OCCI are those that
can be used with HTTP and TLS. For further discussion see Section
\ref{sec:sec_consid}.

\section{ABNF Definitions}

For the following sections these notations will be used. Implementation MUST hence implement the renderings according to these definitions.

\subsection{Category CRLF}

The following syntax MUST be used for \hl{Category} renderings:

\begin{verbatim}
Category             = "Category" ":" #category-value
  category-value     = term
                      ";" "scheme" "=" <"> scheme <">
                      ";" "class" "=" ( class | <"> class <"> )
                      [ ";" "title" "=" quoted-string ]
                      [ ";" "rel" "=" <"> type-identifier <"> ]
                      [ ";" "location" "=" <"> URI <"> ]
                      [ ";" "attributes" "=" <"> attribute-list <"> ]
                      [ ";" "actions" "=" <"> action-list <"> ]
  term               = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
  scheme             = URI
  type-identifier    = scheme term
  class              = "action" | "mixin" | "kind"
  attribute-list     = attribute-def
                     | attribute-def *( 1*SP attribute-def)
  attribute-def      = attribute-name
                     | attribute-name
                       "{" attribute-property *( 1*SP attribute-property ) "}"
  attribute-property = "immutable" | "required"
  attribute-name     = attr-component *( "." attr-component )
  attr-component     = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
  action-list        = action
                     | action *( 1*SP action )
  action             = type-identifier
\end{verbatim}

\subsection{Link CRLF}

The following syntax MUST be used to represent OCCI \hl{Link} type
instance references:

\begin{verbatim}
Link               = "Link" ":" #link-value
  link-value       = "<" URI-Reference ">"
                    ";" "rel" "=" <"> resource-type <">
                    [ ";" "self" "=" <"> link-instance <"> ]
                    [ ";" "category" "=" link-type
                      *( ";" link-attribute ) ]
  term             = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
  scheme           = URI
  type-identifier  = scheme term
  resource-type    = type-identifier *( 1*SP type-identifier )
  link-type        = type-identifier *( 1*SP type-identifier )
  link-instance    = URI-reference
  link-attribute   = attribute-name "=" ( token | quoted-string )
  attribute-name   = attr-component *( "." attr-component )
  attr-component   = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
\end{verbatim}

The following syntax MUST be used to represent OCCI \hl{Action}
instance references:

\begin{verbatim}
ActionLink         = "Link" ":" #link-value
  link-value       = "<" action-uri ">"
                    ";" "rel" "=" <"> action-type <">
  term             =  LOALPHA *( LOALPHA | DIGIT | "-" | "_" )
  scheme           = relativeURI
  type-identifier  = scheme term
  action-type      = type-identifier
  action-uri       = URI "?" "action=" term
\end{verbatim}

\subsection{Attribute CRLF}

\begin{verbatim}
Attribute          = "X-OCCI-Attribute" ":" #attribute-repr
  attribute-repr   = attribute-name "=" ( string | number | bool | enum_val )
  attribute-name   = attr-component *( "." attr-component )
  attr-component   = LOALPHA *( LOALPHA | DIGIT | "-" | "_" )	
  string           = quoted-string
  number           = (int | float)
  int              = *DIGIT
  float            = *DIGIT "." *DIGIT
  bool             = ("true" | "false")
  enum_val         = string
\end{verbatim}

\subsection{Location CRLF}

\begin{verbatim}
Location      = "X-OCCI-Location" ":" location-value
  location-value  = URI-reference
\end{verbatim}

\section{Renderings}

\subsection{Entity Instance Rendering}

Entity instances MUST be rendered according to the following definitions.

\subsubsection{Resource Instance Rendering}

A \hl{Resource} instance MUST be rendered using the following definition:

\begin{verbatim}
	resource_rendering = 1*( Category CRLF )
    	                  *( Link CRLF )
    	                  *( ActionLink CRLF )
        	              *( Attribute CRLF )
\end{verbatim}

\paragraph{Action Invocation Rendering}

Upon an \hl{Action} invocation the client MUST send along the following definition:

\begin{verbatim}
	action_definition = 1( Category CRLF )
        	            *( Attribute CRLF )
\end{verbatim}

\subsubsection{Link Instance Rendering}

A \hl{Link} instance MUST be rendered using the following definition:

\begin{verbatim}
	link_rendering = 1*( Category CRLF )
    	              *( ActionLink CRLF )
        	          *( Attribute CRLF )
\end{verbatim}

% HERE I AM

\subsection{Category Instance Rendering}
\label{sec:format_category_instance_rendering}

ABNF

\subsubsection{Kind Instance Rendering}
\label{sec:format_kind}

 look above

\subsubsection{Mixin Instance Rendering}
\label{sec:format_mixin}

look above

\subsubsection{Action Instance Rendering}
\label{sec:format_action}

ABNF

\subsection{Entity Collection Rendering}

\begin{verbatim}
	resource_representations  = *( Location CRLF ) 
\end{verbatim}

\subsubsection{Resource Collection Rendering}

see above

\subsubsection{Link Collection Rendering}

see above

\subsection{Category Collection Rendering}

\begin{verbatim}
	resource\_representations  = *( Category CRLF ) 
\end{verbatim}

\subsubsection{Kind Collection Rendering}

see above

\subsubsection{Mixin Collection Rendering}

see above

\subsubsection{Action Collection Rendering}

see above

\subsection{Attributes Rendering}

\subsubsection{Entity Instance Attribute Rendering Specifics}

\subsubsection{Attribute Description Rendering}
\label{sec:format_attribute_description}

\section{OCCI Text plain rendering}
The OCCI Text plain rendering specifies a rendering of OCCI instance types in a simple text format.

The rendering can be used to render OCCI instances independently of the
protocol being used. Thus messages can be delivered by e.g. the HTTP
protocol as specified in \cite{occi:protocol}.

The following media-types MUST be used for the OCCI Text plain rendering:

	{\tt text/occi+plain}

and

	{\tt text/plain}

TODO: say stuff goes in the body. eithe rmultiple enties sep by "\\n" or by

\section{OCCI header rendering}
The OCCI Text plain rendering specifies a rendering of OCCI instance types in a simple text format.

The rendering can be used to render OCCI instances independently of the
protocol being used. Thus messages can be delivered by e.g. the HTTP
protocol as specified in \cite{occi:protocol}.

The following media-type MUST be used for the OCCI JSON Rendering:

{\tt text/occi}

All stuff goes in headers.

\section{URI listening}
The OCCI Text plain rendering specifies a rendering of OCCI instance types in a simple text format.

The rendering can be used to render OCCI instances independently of the
protocol being used. Thus messages can be delivered by e.g. the HTTP
protocol as specified in \cite{occi:protocol}.

The following media-types MUST be used for the OCCI JSON Rendering:

{\tt text/occi+plain}
{\tt text/plain}

\subsection{Entity Collection Rendering}

\section{Security Considerations}
\label{sec:sec_consid}
The OCCI HTTP rendering assumes HTTP or HTTP-related mechanisms for
security. As such, implementations SHOULD support
TLS \footnote{http://datatracker.ietf.org/wg/tls/} for transport layer
security.

Authentication SHOULD be realized by HTTP authentication mechanisms,
namely HTTP Basic or Digest Auth \cite{rfc2617}, with the former as
default. Additional profiles MAY specify other methods and should
ensure that the selected authentication scheme can be renderable over
the HTTP or HTTP-related protocols.

Authorization is not enforced on the protocol level, but SHOULD be
performed by the implementation. For the authorization decision, the
authentication information as provided by the mechanisms described
above MUST be used.

Protection against potential Denial-of-Service scenarios are out of
scope of this document; the OCCI HTTP Rendering specifications assumes
cooperative clients that SHOULD use selection and filtering as
provided by the Category mechanism wherever possible. Additional
profiles to this document, however, MAY specifically address such
scenarios; in that case, best practices from the HTTP ecosystem and
appropriate mechanisms as part of the HTTP protocol specification
SHOULD be preferred.

As long as specific extensions of the OCCI Core and Model
specification do not impose additional security requirements than the
OCCI Core and Model specification itself, the security considerations
documented above apply to all (existing and future)
extensions. Otherwise, an additional profile to this specification
MUST be provided; this profile MUST express all additional security
considerations using HTTP mechanisms.

\section{Glossary}
\label{sec:glossary}
\input{include/glossary}

\section{Contributors}
\input{include/contributors}

\section{Intellectual Property Statement}
\input{include/ip}

\section{Disclaimer}
\input{include/disclaimer}

\section{Full Copyright Notice}
\input{include/copyright}

\bibliographystyle{IEEEtran}
\bibliography{references}

\end{document}